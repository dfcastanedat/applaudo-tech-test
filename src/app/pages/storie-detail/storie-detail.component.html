<div class="detail">
    <div *ngIf="loading" class="detail__loading">
        <app-loading></app-loading>
    </div>
    <ng-container *ngIf="!loading">
        <h1 class="detail__title">{{storie.title}}</h1>
        <h1 class="detail__title subtitle">Type: {{storie.type}}</h1>
        <div class="detail__intro">
            <img class="detail__photo" *ngIf="storie.thumbnail"
                [src]="getImgUrl(storie?.thumbnail?.path, 'portrait_incredible', storie?.thumbnail?.extension)"
                alt="Character" title="Character" />
            <div class="detail__description">{{storie.description && storie.description.length > 0 ? storie.description
                :
                'No description available'}}</div>
        </div>
        <div class="detail__divisor"></div>
        <div class="detail__picker">
            <h1 [class]="!switchSelector ? 'detail__title selector' : 'detail__title selected'"
                (click)="switchSelector = !switchSelector">CHARACTERS</h1>
            <h1 [class]="switchSelector ? 'detail__title selector' : 'detail__title selected'"
                (click)="switchSelector = !switchSelector">comics</h1>
        </div>
        <ng-container *ngIf="switchSelector">
            <div class="card__grid detail-items" *ngIf="characters.length > 0">
                <app-thubnail-item *ngFor="let item of characters"
                    [imgUrl]="getImgUrl(item.thumbnail.path, 'portrait_xlarge', item.thumbnail.extension)"
                    [type]="'character'" [name]="item.name" [itemId]="item.id">
                </app-thubnail-item>
                <button (click)="getCharacters(itemId, null, charactersOffset)"
                    *ngIf="!(this.charactersOffset + 20 >= this.totalCharactersAviable + 20)">
                    LOAD MORE
                </button>
                <div [class]="characters.length > 0 ? 'detail__loading-items with-content': 'detail__loading-items'"
                    *ngIf="charactersLoading">
                    <app-loading></app-loading>
                </div>
            </div>
            <div class="empty-result" *ngIf="characters.length == 0 && !charactersLoading">
                <img alt="Empty results" title="Empty results" src="/assets/empty.svg" class="empty-result__image">
                <h1>No results</h1>
            </div>
        </ng-container>
        <ng-container *ngIf="!switchSelector">
            <div class="card__grid detail-items" *ngIf="comics.length > 0">
                <app-thubnail-item *ngFor="let item of comics" [type]="'comic'" [name]="item.title"
                    [imgUrl]="getImgUrl(item.thumbnail.path, 'portrait_xlarge', item.thumbnail.extension)"
                    [itemId]="item.id">
                </app-thubnail-item>
                <button (click)="getComics(itemId, comicsOffset)"
                    *ngIf="!(this.comicsOffset + 20 >= this.totalComicsAviable + 20)">
                    LOAD MORE
                </button>
                <div [class]="comics.length > 0 ? 'detail__loading-items with-content': 'detail__loading-items'"
                    *ngIf="comicsLoading">
                    <app-loading></app-loading>
                </div>
            </div>
            <div class="empty-result" *ngIf="comics.length == 0 && !comicsLoading">
                <img alt="Empty results" title="Empty results" src="/assets/empty.svg" class="empty-result__image">
                <h1>No results</h1>
            </div>
        </ng-container>
    </ng-container>
</div>